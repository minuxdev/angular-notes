[
{
  "model": "blog.article",
  "pk": 4,
  "fields": {
    "author": 1,
    "category": 1,
    "topic": "Sessions",
    "body": "<p>In context of web development, a session refers to a way of maintaining state information about user&rsquo;s interaction with a website or application. Sessions are stored in server side being only stored the session id in client side which is used to associate the user&rsquo;s requests with their specific session.</p>\r\n<p>Sessions are used to provide personalized experience for each user, display users name and preferences throughout the site and more.</p>\r\n<h3>Enabling sessions in Django</h3>\r\n<p>To make use of sessions in Django, first we need to make sure we have the following in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">settings.py</span> file <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">django.contrib.sessions.middleware.SessionMiddleware</span> present in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">MIDDLEWARE</span> list (this is activated by default when we start new project with <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"7\">django-admin startproject</span>) and <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"9\">django.contrib.sessions</span> in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"11\">INSTALLED_APPS</span>.</p>\r\n<p>Configuring the session engine</p>\r\n<p>The Django session framework provide us a couple engines that we can use to store sessions data being the default one <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">database-backed. </span>Depending on our needs, we can choose to use different engines such as:</p>\r\n<ul>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-cached-sessions\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span class=\"link-annotation-unknown-block-id-2099352214\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">cached-based session</span></a></li>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-file-based-sessions\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span class=\"link-annotation-unknown-block-id-125918358\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">file-based sessions</span></a></li>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-cookie-based-sessions\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span class=\"link-annotation-unknown-block-id-2114840366\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">cookies-based session</span></a></li>\r\n</ul>\r\n<h3>Sessions usage</h3>\r\n<p>When <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">SessionMiddleware </span>is activated, each <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">HttpRequest</span> object (the first argument passed to any Django function view) will have a <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"5\">session</span> attribute which is a dictionary-like object.</p>\r\n<p>The sessions object is accessed through <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">request.session</span> from which we can get, delete, set and update sessions keys and values. Some of this object methods are:</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__getitem__(key)</span>: allows us to get the key value</p>\r\n<pre class=\"language-python\"><code>name = request.session['name']</code></pre>\r\n<p>&nbsp;</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__setitem__(key, value)</span> : this allows us to set new values to session object</p>\r\n<pre class=\"language-python\"><code>request.session['name'] = 'my name'</code></pre>\r\n<p>&nbsp;</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__delitem__(key)</span>: used to delete specific session key, raises <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">KeyError </span>if the given key doesn&rsquo;t exist</p>\r\n<pre class=\"language-python\"><code>del request.session['name']</code></pre>\r\n<p>&nbsp;</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__contains__(key)</span>: check if <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">key</span> exist in session object</p>\r\n<pre class=\"language-python\"><code>'name' in request.session</code></pre>\r\n<p>&nbsp;</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">get(key, default=None)</span>: allows us to get or set default value for the key if it doesn&rsquo;t already exist.</p>\r\n<pre class=\"language-python\"><code>name = request.session.get('name', 'my name')</code></pre>\r\n<p>&nbsp;</p>\r\n<p><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">pop(key, default=None)</span>: returns the value of the removed <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">key</span> or default value if <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"4\">key</span> isn&rsquo;t created already</p>\r\n<pre class=\"language-python\"><code>name = request.session.pop('name', None)</code></pre>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>Check <a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#django.contrib.sessions.backends.base.SessionBase.keys\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span class=\"link-annotation-unknown-block-id--1231032645\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">Django documentation</span></a> for a complete list of methods available to interact with sessions.</p>\r\n<h2>Example of session usage in views</h2>\r\n<p>Let&rsquo;s say we want to implement a view counter to our blog articles to track how many times each article got visited. We are going to implement this in our details view given the fact that here is where our visitors go to read specific articles we have posted.</p>\r\n<pre class=\"language-python\"><code>def article_details(request, slug):\r\n\t\t# Get the specified article\r\n    article = Article.objects.get(slug=slug)\r\n\t\t# Assigning article.pk to id_ variable\r\n    id_ = article.pk\r\n\t\t# Assigning session with key 'instance_id_' or 0 to instance_id\r\n\t\t# For each visited article a key with format 'instance_id' will be created\r\n    instance_id = request.session.get(f\"instance_{id_}\", 0)\r\n\t\t\r\n\t\t# Increment 1 to article.views if article.pk is not instance_id\r\n    if instance_id != article.pk:\r\n        article.views += 1\r\n        article.save()\r\n        request.session[f\"instance_{id_}\"] = article.pk\r\n\r\n    context = {\"article\": article}\r\n    return render(request, \"blog/article_details.html\", context=context)</code></pre>\r\n<h2>Conclusion</h2>\r\n<p>In this article we have discussed what sessions are, how to enable session in django along with the different engines we can use depending on our needs. We also seen some methods that we can use with session object and finally, applied this concepts to build a simple article counter system using sessions.</p>",
    "posted": true,
    "thumbnail": "thumbnails/0rj6vjL.jpeg",
    "slug": "sessions",
    "created_on": "2023-12-25T00:08:02Z",
    "updated_on": "2024-01-13T00:42:20.829Z",
    "views": 0
  }
},
{
  "model": "blog.article",
  "pk": 5,
  "fields": {
    "author": 1,
    "category": 1,
    "topic": "F expression",
    "body": "<p>When searching for data in database is quite often you want to retrieve it based on a certain criteria, however, searching for data in a single column may not be enough when you want to retrieve a set of data that the condition depends on a comparison of two columns, do some math operations with other fields and so on which makes the filter complex. In Django, among the various tools available within <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">Query Sets</span>, the <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">F</span> expression is what you are looking for to the task.</p>\r\n<h2>What is F expression</h2>\r\n<p>Is an object that represents the value of a model field, annotated column or a transformed value of a model field which makes possible to refer to a model field values an perform database operations without actually pulling them out to Python memory.</p>\r\n<p>I will be working upon this models to illustrate its usage.</p>\r\n<pre class=\"language-python\"><code># models.py\r\nclass Article(models.Model):\r\n    category = models.CharField(max_length=100)\r\n    topic = models.CharField(max_length=200)\r\n    body = models.TextField()\r\n    views = models.IntegerField(default=0)\r\n    total_comments = models.IntegerField(default=0)\r\n\t\tpoints = models.IntegerFied(default=0)\r\n\t\tpub_date = models.DateField(auto_now_add=True)\r\n\r\n    class Meta:\r\n        db_table = \"article\"\r\n        ordering = (\"-id\", \"views\")\r\n\r\n    def __str__(self):\r\n        return self.topic</code></pre>\r\n<p>Let&rsquo;s say we want to increment the views value of an article with <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"1\">topic</span> equals to <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"3\">F expression</span>. Normally we&rsquo;d do</p>\r\n<pre class=\"language-python\"><code>article = Articles.objects.get(topic='F expression')\r\narticle.views += 1\r\narticle.save()</code></pre>\r\n<p>Breaking down the above snippet, we have fetched the data matching the specified topic into Python memory, manipulated its views field value and saved it back to the database.</p>\r\n<p>We can do this using <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expression as follow</p>\r\n<pre class=\"language-python\"><code>from django.db.models import F\r\n\r\narticle = Articles.objects.get(topic='F expression')\r\narticle.views = F('views') + 1\r\narticle.save()</code></pre>\r\n<p>The key difference here is that in the first example we are doing <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">in-memory</span> (Python task) manipulation while in the second we are only constructing a SQL statement that tells the database to increment by 1 whatever is views value which save some space in memory because the operation itself is handled directly in database.</p>\r\n<p>It means that using <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expression Python doesn&rsquo;t know about views value and consequently we cannot use a <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">print</span> statement to print its value without <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">refresh_from_db</span> method.</p>\r\n<p>Note: Is worthless using <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expression like the example above, in this scenario, choose the first example instead to avoid unexpected behavior because <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">F</span> expression values are persistent and unless you use the <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">refresh_from_db</span> method views will be incremented by 1 each time we call <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"7\">save</span> method.</p>\r\n<h2>F expression in queries</h2>\r\n<p>Using <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expressions in queries is where it really stands out in terms of performance and the other benefit of it is that with <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">F</span> expressions we also avoid the <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"5\">race conditions</span>.</p>\r\n<h3><span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"0\">Race conditions</span></h3>\r\n<p>Let&rsquo;s say we have two users <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">A</span> and <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">B </span>and views value of 10. If A retrieve views will get 10, and B will also get 10, however, if A increments views value by two and save we can say that now views is equals to 12, right? What happen if B increments views value by one and save is that views value gets updated to 11 and automatically the value updated by A user gets lost.</p>\r\n<pre class=\"language-python\"><code># Consider views = 10\r\nA = Articles.objects.get(topic='F expression')\r\nB = Articles.objects.get(topic='F expression')\r\n\r\nA.views += 2\r\nA.save() # views is updated to 12\r\n\r\nB.views += 1\r\nB.save() # views is updated to 11. 12 is replaced by 11 beause of the race condition</code></pre>\r\n<p><span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"0\">F</span> expression save us from that problem because both users will use column reference instead of its value, meaning, using the above example B would increment one in the value already updated by the user A and now views become 13 instead.</p>\r\n<pre class=\"language-python\"><code>from django.db.models import F\r\n\r\n# Consider views = 10\r\nA = Articles.objects.get(topic='F expression')\r\nB = Articles.objects.get(topic='F expression')\r\n\r\nA.views = F('views') + 2\r\nA.save() # views is updated to 12\r\n\r\nB.views += 1\r\nB.save() # views is updated to 13</code></pre>\r\n<h2>F expression with filter</h2>\r\n<p>If we want to retrieve all records where <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"1\">views</span> is greater that <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"3\">total_comments</span> we can do</p>\r\n<pre class=\"language-python\"><code>Article.objects.filter(views__gt=F('total_comments'))</code></pre>\r\n<p>To find all entries where <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"1\">views</span> plus <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"3\">total_comments</span> is less than <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"5\">points</span></p>\r\n<pre class=\"language-python\"><code>Article.objects.filter(views__lt=F('total_comments') * 2)</code></pre>\r\n<p>&nbsp;</p>\r\n<p>To find all entries where <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"1\">views</span> plus <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"3\">total_comments</span> is less than <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"5\">points</span></p>\r\n<pre class=\"language-python\"><code>Article.objects.filter(points_gt=F('views') + F('total_comments'))</code></pre>\r\n<p>&nbsp;</p>\r\n<p>To find all entries where <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"1\">views</span> is equals to <span class=\"notion-enable-hover\" style=\"font-style: italic;\" data-token-index=\"3\">points</span></p>\r\n<pre class=\"language-python\"><code>Article.objects.filter(views=F('points'))</code></pre>\r\n<p>&nbsp;</p>\r\n<h2>F expression with update</h2>\r\n<p>Other use case of <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expression is when we want to update multiple entries at once. Let&rsquo;s say we want to update all data by incrementing views by 10, without <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">F</span> expression we can do</p>\r\n<pre class=\"language-python\"><code># Updating in Python \r\narticles = Articles.objects.all()\r\n\r\nfor article in articles:\r\n\tarticle.views += 10\r\n\tarticle.save()</code></pre>\r\n<p>We don&rsquo;t need to be experts to see how costly it can be when we have thousands of entries to update. We can solve this by using <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expression as follow</p>\r\n<pre class=\"language-python\"><code>from django.db.models import F\r\n\r\n# Updating directly in database\r\nArticles.objects.update(views=F('views') + 10)</code></pre>\r\n<h2>Conclusion</h2>\r\n<p><span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"0\">F</span> expression can make our apps more efficient when appropriately used given the fact that constructed SQL statements are executed in database level rather than Python memory.</p>\r\n<p>In this way, They allow us to perform updates directly in the database, avoiding the need to pull the data into Python, modify it and save them back to the database which is a headache to scale the app.</p>\r\n<p>Reduces the database round-trips since we only send SQL statements an not manipulating the database entries directly from Python</p>\r\n<p>Maintaining database integrity since <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">F</span> expressions ensure that the values are updated consistently and avoiding race conditions.</p>\r\n<p>&nbsp;</p>",
    "posted": true,
    "thumbnail": "",
    "slug": "f-expression",
    "created_on": "2023-12-28T20:38:53Z",
    "updated_on": "2024-01-13T00:42:54.834Z",
    "views": 0
  }
},
{
  "model": "blog.article",
  "pk": 6,
  "fields": {
    "author": 1,
    "category": 1,
    "topic": "Q objects",
    "body": "<p>Some times we get caught in a situation where we want to allow users to search for a particular entries in the database that can appear in any field in a set of fields and return all entries accordingly which is not an easy task using the traditional way of searching for data in the database.</p>\r\n<p>In this tutorial we are going to learn about <strong>Q</strong> expressions, use cases and how to build a complex search system in Django.</p>\r\n<p>&nbsp;</p>\r\n<h2>What is Q object</h2>\r\n<p>Represents an SQL condition that can be used in database-related operations. Is used on queries that involve logical operations which allows us to build more complex search systems.</p>\r\n<p>Q objects can be combined using logical operators <strong>OR</strong>, <strong>AND</strong> and <strong>XOR</strong> to perform a complex SQL statements by comparing different fields in database.</p>\r\n<p>&nbsp;</p>\r\n<h2>Building complex search systems using Q object</h2>\r\n<p>In order to exemplify the usage of Q object we will take as an example the following model</p>\r\n<pre class=\"language-python\"><code>from django.db import models\r\n\r\nclass Player(models.Model):\r\n\t\tfirst_name = models.CharField(max_length=200)\r\n\t\tlast_name = models.CharField(max_length=200)\r\n\t\tage = models.IntegerField(default=0)\r\n\t\tpoints = models.IntegerField(default=0)\r\n\r\n\t\tdef __str__(self):\r\n\t\t\t\treturn f\"{self.first_name} + {last_name}\"</code></pre>\r\n<h3>OR condition (|)</h3>\r\n<p>With Q object we can filter entries using an OR condition where the returned query-set is a list of all data that matched at least one of the condition.</p>\r\n<p>If we want to pull players that match <em>first_name=&rsquo;Alex&rsquo;</em> or <em>age=18</em> we can do</p>\r\n<pre class=\"language-python\"><code>from django.db.models import Q\r\n...\r\nplayers = Player.objects.filter(Q(first_name='Alex') | Q(age=18))</code></pre>\r\n<p>In above example, <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">players</span> is a collection of entries in the database that met the condition <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">first_name='Alex'</span> or <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">age=18</span>, meaning, the query-set will result in a list of players <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"7\">Alexes</span> and those on age <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"9\">18</span>.</p>\r\n<h2>AND condition (&amp;)</h2>\r\n<p>This is one of the most used without even using the Q object. The query-set is a list of all entries that met the all AND conditions.</p>\r\n<p>If we want to retrieve players that match <em>first_name=&rsquo;Maia&rsquo;</em> AND <em>last_name=&rsquo;Noor&rsquo;</em> we do</p>\r\n<p>&nbsp;</p>\r\n<pre class=\"language-python\"><code>from django.db.models import Q\r\n...\r\nplayers = Player.objects.filter(Q(first_name='Maia') &amp; Q(last_name='Noor'))\r\n\r\n# This is equivalent to\r\nplayers = Player.objects.filter(Q(first_name='Maia'), Q(last_name='Noor'))\r\n\r\n# Or simply\r\nplayers = Player.objects.filter(first_name='Maia',last_name='Noor')</code></pre>\r\n<h2>XOR condition (^)</h2>\r\n<p>The query-set is a list of all entries where the query parameter do not appear in both lookups.</p>\r\n<p>If we want to retrieve all players that contains <em>Malaya</em> as <em>first_name</em> or <em>last_name</em> but not in both we can do</p>\r\n<p>&nbsp;</p>\r\n<pre class=\"language-python\"><code>from django.db.models import Q\r\n...\r\nplayers = Player.objects.filter(Q(first_name='Malaya') ^ Q(last_name='Malaya'))</code></pre>\r\n<p>Lastly, we can also combine normal queries as above with negated Q object using the logical <strong><strong><strong>NOT</strong></strong></strong> (~) operator. For example, we can construct a query to get all entries where <em>points</em> is NOT equals to 50 as follow</p>\r\n<pre class=\"language-python\"><code>from django.db.models import Q\r\n...\r\nplayers = Player.objects.filter(~Q(points=50))</code></pre>\r\n<h2>Conclusion</h2>\r\n<p>By using Q object we can make the search thorough the app a very simplified process with complex searching conditions. It allows us to build complex searching system with only couple lines of code by using its logical operators which bring us much flexibility to search for content over as many fields as needed and return the data based on certain conditions we want.</p>",
    "posted": true,
    "thumbnail": "",
    "slug": "q-objects",
    "created_on": "2023-12-28T20:46:27Z",
    "updated_on": "2024-01-13T00:41:33.207Z",
    "views": 0
  }
},
{
  "model": "blog.article",
  "pk": 7,
  "fields": {
    "author": 1,
    "category": 1,
    "topic": "Django Sessions",
    "body": "<p>In context of web development, a session refers to a way of maintaining state information about user&rsquo;s interaction with a website or application. Sessions are stored in server side being only stored the session id in client side which is used to associate the user&rsquo;s requests with their specific session.</p>\r\n<p>Sessions are used to provide personalized experience for each user, display users name and preferences throughout the site and more.</p>\r\n<h3>Enabling sessions in Django</h3>\r\n<p>To make use of sessions in Django, first we need to make sure we have the following in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">settings.py</span> file <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">django.contrib.sessions.middleware.SessionMiddleware</span> present in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">MIDDLEWARE</span> list (this is activated by default when we start new project with <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"7\">django-admin startproject</span>) and <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"9\">django.contrib.sessions</span> in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"11\">INSTALLED_APPS</span>.</p>\r\n<p>Configuring the session engine</p>\r\n<p>The Django session framework provide us a couple engines that we can use to store sessions data being the default one <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">database-backed. </span>Depending on our needs, we can choose to use different engines such as:</p>\r\n<ul>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-cached-sessions\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span class=\"link-annotation-unknown-block-id-2099352214\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">cached-based session</span></a></li>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-file-based-sessions\" rel=\"noopener noreferrer\" data-token-index=\"0\"><span class=\"link-annotation-unknown-block-id-125918358\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">file-based sessions</span></a></li>\r\n<li><a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#using-cookie-based-sessions\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span class=\"link-annotation-unknown-block-id-2114840366\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">cookies-based session</span></a></li>\r\n</ul>\r\n<h3>Sessions usage</h3>\r\n<p>When <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">SessionMiddleware </span>is activated, each <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"3\">HttpRequest</span> object (the first argument passed to any Django function view) will have a <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"5\">session</span> attribute which is a dictionary-like object.</p>\r\n<p>The sessions object is accessed through <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"1\">request.session</span> from which we can get, delete, set and update sessions keys and values. Some of this object methods are:</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__getitem__(key)</span>: allows us to get the key value</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>name = request.session['name']</code></pre>\r\n<p>&nbsp;</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__setitem__(key, value)</span> : this allows us to set new values to session object</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>request.session['name'] = 'my name'</code></pre>\r\n<p>&nbsp;</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__delitem__(key)</span>: used to delete specific session key, raises <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">KeyError </span>if the given key doesn&rsquo;t exist</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>del request.session['name']</code></pre>\r\n<p>&nbsp;</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">__contains__(key)</span>: check if <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">key</span> exist in session object</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>'name' in request.session</code></pre>\r\n<p>&nbsp;</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">get(key, default=None)</span>: allows us to get or set default value for the key if it doesn&rsquo;t already exist.</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>name = request.session.get('name', 'my name')</code></pre>\r\n<p>&nbsp;</p>\r\n<ul>\r\n<li><span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"0\">pop(key, default=None)</span>: returns the value of the removed <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"2\">key</span> or default value if <span class=\"notion-enable-hover\" style=\"font-weight: 600;\" data-token-index=\"4\">key</span> isn&rsquo;t created already</li>\r\n</ul>\r\n<pre class=\"language-python\"><code>name = request.session.pop('name', None)</code></pre>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>Check <a class=\"notion-link-token notion-focusable-token notion-enable-hover\" style=\"cursor: pointer; color: inherit; word-wrap: break-word; text-decoration: inherit;\" tabindex=\"0\" href=\"https://docs.djangoproject.com/en/5.0/topics/http/sessions/#django.contrib.sessions.backends.base.SessionBase.keys\" rel=\"noopener noreferrer\" data-token-index=\"1\"><span class=\"link-annotation-unknown-block-id--1231032645\" style=\"border-bottom: 0.05em solid; border-color: rgba(55,53,47,.4); opacity: 0.7;\">Django documentation</span></a> for a complete list of methods available to interact with sessions.</p>\r\n<h2>Example of session usage in views</h2>\r\n<p>Let&rsquo;s say we want to implement a view counter to our blog articles to track how many times each article got visited. We are going to implement this in our details view given the fact that here is where our visitors go to read specific articles we have posted.</p>\r\n<pre class=\"language-python\"><code>def article_details(request, slug):\r\n\t\t# Get the specified article\r\n    article = Article.objects.get(slug=slug)\r\n\t\t# Assigning article.pk to id_ variable\r\n    id_ = article.pk\r\n\t\t# Assigning session with key 'instance_id_' or 0 to instance_id\r\n\t\t# For each visited article a key with format 'instance_id' will be created \r\n    instance_id = request.session.get(f\"instance_{id_}\", 0)\r\n\t\t\r\n\t\t# Increment 1 to article.views if article.pk is not instance_id\r\n    if instance_id != article.pk:\r\n        article.views += 1\r\n        article.save()\r\n        request.session[f\"instance_{id_}\"] = article.pk\r\n\r\n    context = {\"article\": article}\r\n    return render(request, \"blog/article_details.html\", context=context)</code></pre>\r\n<h2>Conclusion</h2>\r\n<p>In this article we have discussed what sessions are, how to enable session in django along with the different engines we can use depending on our needs. We also seen some methods that we can use with session object and finally, applied this concepts to build a simple article counter system using sessions.</p>",
    "posted": true,
    "thumbnail": "",
    "slug": "django-sessions",
    "created_on": "2023-12-28T21:05:43Z",
    "updated_on": "2024-01-13T00:40:08.426Z",
    "views": 0
  }
},
{
  "model": "blog.article",
  "pk": 8,
  "fields": {
    "author": 1,
    "category": 2,
    "topic": "Python Dictionary",
    "body": "<p>Python dictionaries are used to store data values in <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">key:value</span> format. Are ordered (only from python 3.7+), mutable, however, do not accept duplicated keys.</p>\r\n<pre class=\"language-python\"><code>data = { 'key_1': value_1, 'key_2': 'value_2',...}\r\n\r\n# Or\r\ndata = dict('key_1': value_1, 'key_2': 'value_2')</code></pre>\r\n<p>Items are collection of <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">key:value</span> pairs where <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">value</span> can be accessed through <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">object['key']</span> or <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"7\">object.key</span> key notation.</p>\r\n<h2>Ordered</h2>\r\n<p>This means from python 3.7 we can have access to its item through item indexes.</p>\r\n<pre class=\"language-python\"><code>data = {'name': 'Elia', 'age':28}\r\ndata[0] == 'Elia'\r\ndata[1] == 28</code></pre>\r\n<h2>Mutable</h2>\r\n<p>This means once it is defined, we can still manipulate it by adding new items, override values.</p>\r\n<pre class=\"language-python\"><code>data['height'] == 1.69 # New\r\ndata['name'] == 'Minux' # change the value of key 'name'</code></pre>\r\n<h2>Do not accept duplicated keys</h2>\r\n<p>It means we cannot assign two values to the same <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">key </span></p>\r\n<p>If we do so we will be <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>overriding</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong> values in that key and the last one will stored.</p>\r\n<pre class=\"language-python\"><code>data = {\r\n'name': 'Elia', \r\n'age': 28, # Initial value\r\n'age': 32, # Override 28\r\n'age': 54, # Override 32 and this get stored\r\n}</code></pre>\r\n<h2>Items datatype</h2>\r\n<p>In dictionaries, <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">values</span> can be of any type</p>\r\n<pre class=\"language-python\"><code>data = {\r\n...,\r\nphones: [867588, 746569, ...],\r\nhobies: ('whatch tv', 'read novels', etc),\r\n'parents': {'father':'fathers name', 'mother': 'mothers name'}\r\n}</code></pre>\r\n<h2>Actions</h2>\r\n<h3>len(object)</h3>\r\n<p>Returns a number of keys in a dictionary.</p>\r\n<pre class=\"language-python\"><code>data = {'name':'Elia', 'age': 28}\r\nlen(data) == 2</code></pre>\r\n<h3>Add Values</h3>\r\n<p>To add values we only assign <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">values</span> to a nonexistent <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">keys</span></p>\r\n<pre class=\"language-python\"><code>data['new_key'] = 'key_value'\r\n# Or\r\ndata.update({new_key: key_value})</code></pre>\r\n<h3>Change value</h3>\r\n<p>Dictionary values are changed by assign new values to <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">keys</span> either using square brackets <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">[key]</span> notation or <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"5\">update({key:value})</span> method</p>\r\n<pre class=\"language-python\"><code>data['name'] = 'New name'\r\n# Or\r\ndata.update({'name': 'New name'})</code></pre>\r\n<h3>Remove items</h3>\r\n<p>There are different approaches when it comes to remove items from dictionaries</p>\r\n<p><strong>.pop(key)</strong></p>\r\n<p>Remove item specified with <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">key</span></p>\r\n<pre class=\"language-python\"><code>data.pop('name') # Remove item identified by name</code></pre>\r\n<p><strong>.popitem()</strong></p>\r\n<p>Remove the last inserted item (random until python 3.7).</p>\r\n<pre class=\"language-python\"><code>data.popitem() # Last key:value pair is removed</code></pre>\r\n<p><strong>del object[key]</strong></p>\r\n<p>Remove specified item or dictionary if no <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">key</span> is provided</p>\r\n<pre class=\"language-python\"><code>del data['age'] # Age item gets removed \r\ndel data # data is no longer in memory </code></pre>\r\n<p><strong>.clear()</strong></p>\r\n<p>Empties the dictionaries, in other words, delete all items but the dictionary.</p>\r\n<pre class=\"language-python\"><code>data.clear() # data becomes empty</code></pre>\r\n<h2>Loops</h2>\r\n<p>We can iterate dictionaries using <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">for</span> loop and extract the information that we are interested in.</p>\r\n<h3>Keys</h3>\r\n<p>By default, when iterate dictionaries <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">keys</span> are returned, even though we can explicitly say so.</p>\r\n<pre class=\"language-python\"><code>for key in data:\r\n    print(key)\r\n\r\n# Or\r\nfor key in data.keys():\r\n    print(keys)\r\n# Or\r\ndata_keys = data.fromkeys(data)</code></pre>\r\n<h3>Values</h3>\r\n<p>To extract values we simply replace <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">.keys()</span> with <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"3\">.values()</span></p>\r\n<pre class=\"language-python\"><code>for value in data.values():\r\n    print(value)</code></pre>\r\n<h3>Pairs</h3>\r\n<p>And to get the pairs we use <span class=\"notion-enable-hover\" style=\"font-family: 'SFMono-Regular', Menlo, Consolas, 'PT Mono', 'Liberation Mono', Courier, monospace; line-height: normal; background: rgba(135,131,120,.15); color: #eb5757; border-radius: 4px; font-size: 85%; padding: 0.2em 0.4em;\" spellcheck=\"false\" data-token-index=\"1\">.items()</span> method.</p>\r\n<pre class=\"language-python\"><code>for key, value in data.items():\r\n    print(f'{key}:{value}')</code></pre>",
    "posted": true,
    "thumbnail": "thumbnails/region-2023-12-28_011702.jpg",
    "slug": "python-dictionary",
    "created_on": "2023-12-28T23:12:50Z",
    "updated_on": "2024-01-13T00:44:14.747Z",
    "views": 0
  }
}
]
